{
    "content": "metadata = {\n    'protocolName': 'MagMAX Plant DNA Isolation Kit [1/2]',\n    'author': 'Chaz <chaz@opentrons.com>',\n    'source': 'Custom Protocol Request',\n    'apiLevel': '2.7'\n}\n\n\ndef run(protocol):\n    [num_plates] = get_values(  # noqa: F821\n    'num_plates')\n\n    # load labware and pipette\n    plate1, plate2 = [protocol.load_labware(\n        'nest_96_wellplate_2ml_deep', s) for s in ['2', '5']]\n\n    deep_plates = [protocol.load_labware(\n        'nest_96_wellplate_2ml_deep', s) for s in ['3', '6']]\n\n    tips = [protocol.load_labware(\n        'opentrons_96_filtertiprack_200ul', s) for s in ['7', '10', '11']]\n    res_lysis = protocol.load_labware('nest_1_reservoir_195ml', '4')\n    res_precip = protocol.load_labware('nest_12_reservoir_15ml', '1')\n\n    pip = protocol.load_instrument('p300_multi_gen2', 'right', tip_racks=tips)\n\n    # create variables\n    wells1 = plate1.rows()[0]\n    wells2 = plate2.rows()[0]\n    lysis_buffer = res_lysis['A1']\n    precip1, precip2 = res_precip.wells()[:2]\n    lysis_wells = wells1+wells2 if num_plates == 2 else wells1\n    deep_wells = [well for row in deep_plates for well in row.rows()[0]]\n\n    # Add 590uL of buffer\n    protocol.comment('Adding 590uL of buffer to wells...')\n\n    pip.pick_up_tip()\n\n    for well in lysis_wells:\n        for _ in range(3):\n            pip.aspirate(196, lysis_buffer)\n            pip.dispense(196, well.top(-2))\n\n    pip.drop_tip()\n\n    protocol.pause('Please remove plate for 10min incubation @ 65C. When ready \\\n    return plate(s) to deck and click RESUME')\n\n    # Add 130uL of precipitation solution\n\n    protocol.comment('Adding 130uL of precipitation to solution to wells...')\n\n    pip.pick_up_tip()\n\n    for well in wells1:\n        pip.aspirate(130, precip1)\n        pip.dispense(130, well.top(-2))\n\n    if num_plates == 2:\n        for well in wells2:\n            pip.aspirate(130, precip2)\n            pip.dispense(130, well.top(-2))\n\n    pip.drop_tip()\n\n    protocol.pause('Please remove plate(s), invert 2-3 times, and incubate on \\\n    ice for 5 minutes. When ready to continue, place plates back on deck and \\\n    click RESUME')\n\n    # Transfer 400uL of sample to deep well plate\n\n    protocol.comment('Transferring 400uL of supernatant to deep well plates')\n\n    for src, dest in zip(lysis_wells, deep_wells):\n        pip.pick_up_tip()\n        for _ in range(2):\n            pip.aspirate(200, src)\n            pip.dispense(200, dest)\n        pip.blow_out()\n        pip.drop_tip()\n\n    protocol.comment('Protocol complete. Store samples or move to DNA \\\n    purification')\n",
    "custom_labware_defs": [],
    "fields": [
        {
            "label": "Number of Plates (1 or 2)",
            "name": "num_plates",
            "options": [
                {
                    "label": "One (1)",
                    "value": 1
                },
                {
                    "label": "Two (2)",
                    "value": 2
                }
            ],
            "type": "dropDown"
        }
    ],
    "instruments": [
        {
            "mount": "right",
            "name": "p300_multi_gen2"
        }
    ],
    "labware": [
        {
            "name": "NEST 12 Well Reservoir 15 mL on 1",
            "share": false,
            "slot": "1",
            "type": "nest_12_reservoir_15ml"
        },
        {
            "name": "NEST 96 Deepwell Plate 2mL on 2",
            "share": false,
            "slot": "2",
            "type": "nest_96_wellplate_2ml_deep"
        },
        {
            "name": "NEST 96 Deepwell Plate 2mL on 3",
            "share": false,
            "slot": "3",
            "type": "nest_96_wellplate_2ml_deep"
        },
        {
            "name": "NEST 1 Well Reservoir 195 mL on 4",
            "share": false,
            "slot": "4",
            "type": "nest_1_reservoir_195ml"
        },
        {
            "name": "NEST 96 Deepwell Plate 2mL on 5",
            "share": false,
            "slot": "5",
            "type": "nest_96_wellplate_2ml_deep"
        },
        {
            "name": "NEST 96 Deepwell Plate 2mL on 6",
            "share": false,
            "slot": "6",
            "type": "nest_96_wellplate_2ml_deep"
        },
        {
            "name": "Opentrons 96 Filter Tip Rack 200 \u00b5L on 7",
            "share": false,
            "slot": "7",
            "type": "opentrons_96_filtertiprack_200ul"
        },
        {
            "name": "Opentrons 96 Filter Tip Rack 200 \u00b5L on 10",
            "share": false,
            "slot": "10",
            "type": "opentrons_96_filtertiprack_200ul"
        },
        {
            "name": "Opentrons 96 Filter Tip Rack 200 \u00b5L on 11",
            "share": false,
            "slot": "11",
            "type": "opentrons_96_filtertiprack_200ul"
        },
        {
            "name": "Opentrons Fixed Trash on 12",
            "share": false,
            "slot": "12",
            "type": "opentrons_1_trash_1100ml_fixed"
        }
    ],
    "metadata": {
        "apiLevel": "2.7",
        "author": "Chaz <chaz@opentrons.com>",
        "protocolName": "MagMAX Plant DNA Isolation Kit [1/2]",
        "source": "Custom Protocol Request"
    },
    "modules": []
}