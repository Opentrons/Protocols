{
    "content": "from opentrons import types\n\nmetadata = {\n    'protocolName': 'Illumina COVIDSeq Test: Amplify cDNA',\n    'author': 'Sakib <sakib.hossain@opentrons.com>',\n    'description': 'Custom Protocol Request',\n    'apiLevel': '2.10'\n}\n\n\ndef run(ctx):\n\n    [m300_mount] = get_values(  # noqa: F821\n        \"m300_mount\")\n\n    # Labware\n    tips200ul = ctx.load_labware('opentrons_96_filtertiprack_200ul', 10)\n    reservoir = ctx.load_labware('nest_12_reservoir_15ml', 7,\n                                 \"Master Mix Reservoir\")\n    plate_1 = ctx.load_labware('biorad_96_wellplate_200ul_pcr', 11,\n                               \"Plate CPP1\")\n    plate_2 = ctx.load_labware('biorad_96_wellplate_200ul_pcr', 8,\n                               \"Plate CPP2\")\n\n    # Pipettes\n    m300 = ctx.load_instrument('p300_multi_gen2', m300_mount,\n                               tip_racks=[tips200ul])\n\n    # Wells\n    plate_1_wells = plate_1.rows()[0]\n    plate_2_wells = plate_2.rows()[0]\n\n    # Helper Functions\n    def distribute(pipette, vol, source, dest, disposal_vol, asp_height,\n                   disp_height):\n\n        use_vol = 200 - disposal_vol\n        num_distribute = use_vol // vol\n\n        def well_lists(wells, n):\n            for i in range(0, len(wells), n):\n                yield wells[i:i + n]\n\n        asp_vols = []\n\n        def calc_vol(wells, vol):\n\n            for wells in dest_wells:\n                aspirate_vol = vol*len(wells) + disposal_vol\n                asp_vols.append(aspirate_vol)\n\n        dest_wells = list(well_lists(dest, int(num_distribute)))\n        calc_vol(dest_wells, vol)\n\n        # Aspirate from source\n        pipette.pick_up_tip()\n        for wells, asp_vol in zip(dest_wells, asp_vols):\n            pipette.aspirate(asp_vol, source.bottom(z=asp_height))\n\n            # Add Movement Path Code Here\n            pipette.move_to(ctx.deck.position_for('4').move(types.Point(z=50)))\n\n            for well in wells:\n                pipette.dispense(vol, well.bottom(z=disp_height))\n            pipette.dispense(disposal_vol, source.bottom(z=asp_height))\n        pipette.drop_tip()\n\n    # Protocol Steps\n    distribute(m300, 20, reservoir['A1'], plate_1_wells, 0, 1, 1)\n    distribute(m300, 20, reservoir['A12'], plate_2_wells, 0, 1, 1)\n",
    "custom_labware_defs": [],
    "fields": [
        {
            "label": "P300 Multichannel GEN2 Pipette Mount",
            "name": "m300_mount",
            "options": [
                {
                    "label": "Left",
                    "value": "left"
                },
                {
                    "label": "Right",
                    "value": "right"
                }
            ],
            "type": "dropDown"
        }
    ],
    "instruments": [
        {
            "mount": "left",
            "name": "p300_multi_gen2"
        }
    ],
    "labware": [
        {
            "name": "Master Mix Reservoir on 7",
            "share": false,
            "slot": "7",
            "type": "nest_12_reservoir_15ml"
        },
        {
            "name": "Plate CPP2 on 8",
            "share": false,
            "slot": "8",
            "type": "biorad_96_wellplate_200ul_pcr"
        },
        {
            "name": "Opentrons 96 Filter Tip Rack 200 \u00b5L on 10",
            "share": false,
            "slot": "10",
            "type": "opentrons_96_filtertiprack_200ul"
        },
        {
            "name": "Plate CPP1 on 11",
            "share": false,
            "slot": "11",
            "type": "biorad_96_wellplate_200ul_pcr"
        },
        {
            "name": "Opentrons Fixed Trash on 12",
            "share": false,
            "slot": "12",
            "type": "opentrons_1_trash_1100ml_fixed"
        }
    ],
    "metadata": {
        "apiLevel": "2.10",
        "author": "Sakib <sakib.hossain@opentrons.com>",
        "description": "Custom Protocol Request",
        "protocolName": "Illumina COVIDSeq Test: Amplify cDNA"
    },
    "modules": []
}