{
    "content": "import math\n\nmetadata = {\n    'protocolName': 'Olink Target 96 Part 2/3: Extension',\n    'author': 'Nick <ndiehl@opentrons.com>',\n    'description': 'Custom Protocol Request',\n    'apiLevel': '2.11'\n}\n\n\ndef run(ctx):\n\n    num_samples, m300_mount = get_values(  # noqa: F821\n        'num_samples', 'm300_mount')\n\n    if not 1 <= num_samples <= 96:\n        raise Exception('Invalid number of samples (1-96)')\n\n    ext_mix = ctx.load_labware(\n        'nest_12_reservoir_15ml', '5',\n        'reservoir for extension mix (channel 1)').wells()[0]\n    inc_plate = ctx.load_labware('nest_96_wellplate_100ul_pcr_full_skirt', '2',\n                                 'incubation plate')\n    tipracks300 = [ctx.load_labware('opentrons_96_tiprack_300ul', '6')]\n\n    m300 = ctx.load_instrument('p300_multi_gen2', m300_mount,\n                               tip_racks=tipracks300)\n\n    num_cols = math.ceil(num_samples/8)\n\n    ctx.comment('Bring the Incubation Plate to room temperature, spin at 400 x \\\ng for 1 min. Preheat the PCR machine.')\n    ctx.comment('Vortex the Extension mix and pour into a multi-channel \\\npipette reservoir.')\n\n    m300.pick_up_tip()\n    m300.aspirate(20, ext_mix)\n    for col in inc_plate.rows()[0][:num_cols]:\n        m300.aspirate(96, ext_mix)\n        m300.dispense(96, col.top(-1))\n    m300.drop_tip()\n\n    ctx.comment('Seal the plate with an adhesive plastic film, vortex \\\nthoroughly ensuring that all wells are mixed, and spin down.')\n    ctx.comment('Place the Incubation Plate in the thermal cycler, and start \\\nthe PEA program (50\u00b0C 20 min, 95\u00b0C 5 min (95\u00b0C 30s, 54\u00b0C 1 min, 60\u00b0C 1 min) \\\nx17, 10\u00b0C hold).')\n",
    "custom_labware_defs": [],
    "fields": [
        {
            "default": 96,
            "label": "number of samples (1-96)",
            "name": "num_samples",
            "type": "int"
        },
        {
            "label": "P300 multi-channel pipette mount",
            "name": "m300_mount",
            "options": [
                {
                    "label": "left",
                    "value": "left"
                },
                {
                    "label": "right",
                    "value": "right"
                }
            ],
            "type": "dropDown"
        }
    ],
    "instruments": [
        {
            "mount": "left",
            "name": "p300_multi_gen2"
        }
    ],
    "labware": [
        {
            "name": "incubation plate on 2",
            "share": false,
            "slot": "2",
            "type": "nest_96_wellplate_100ul_pcr_full_skirt"
        },
        {
            "name": "reservoir for extension mix (channel 1) on 5",
            "share": false,
            "slot": "5",
            "type": "nest_12_reservoir_15ml"
        },
        {
            "name": "Opentrons 96 Tip Rack 300 \u00b5L on 6",
            "share": false,
            "slot": "6",
            "type": "opentrons_96_tiprack_300ul"
        },
        {
            "name": "Opentrons Fixed Trash on 12",
            "share": false,
            "slot": "12",
            "type": "opentrons_1_trash_1100ml_fixed"
        }
    ],
    "metadata": {
        "apiLevel": "2.11",
        "author": "Nick <ndiehl@opentrons.com>",
        "description": "Custom Protocol Request",
        "protocolName": "Olink Target 96 Part 2/3: Extension"
    },
    "modules": []
}