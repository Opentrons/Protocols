{"instruments": [{"mount": "left", "name": "p20_single_gen2"}], "labware": [{"slot": "1", "type": "opentrons_24_tuberack_eppendorf_1.5ml_safelock_snapcap", "name": "reagent tuberack on 1", "share": false}, {"slot": "2", "type": "opentrons_96_tiprack_20ul", "name": "20ul tiprack on 2", "share": false}, {"slot": "3", "type": "opentrons_96_tiprack_20ul", "name": "20ul tiprack on 3", "share": false}, {"slot": "5", "type": "opentrons_96_tiprack_20ul", "name": "20ul tiprack on 5", "share": false}, {"slot": "7", "type": "nest_96_wellplate_100ul_pcr_full_skirt", "name": "NEST 96 Well Plate 100 \u00b5L PCR Full Skirt on Thermocycler Module on 7", "share": false}, {"slot": "12", "type": "opentrons_1_trash_1100ml_fixed", "name": "Opentrons Fixed Trash on 12", "share": false}], "fields": [{"type": "textFile", "label": "samples to process (comma-separated)", "name": "samples_csv", "default": "A1,B1,C1,D1,E1,G1"}, {"type": "dropDown", "label": "P20 GEN2 mount", "name": "p20_mount", "options": [{"label": "left", "value": "left"}, {"label": "right", "value": "right"}]}, {"type": "float", "label": "incubation temperature (degrees C)", "name": "incubation_temperature", "default": 37}], "modules": [], "metadata": {"protocolName": "Mass Spec Sample Prep", "author": "Opentrons <protocols@opentrons.com>", "source": "Protocol Library"}, "content": "metadata = {\n    'protocolName': 'Mass Spec Sample Prep',\n    'author': 'Opentrons <protocols@opentrons.com>',\n    'source': 'Protocol Library'\n    }\n\n\ndef run(ctx):\n    [samples_csv, p20_mount,\n        incubation_temperature] = get_values(  # noqa: F821\n            'samples_csv', 'p20_mount', 'incubation_temperature'\n        )\n\n    tc = ctx.load_module('thermocycler')\n    tc_plate = tc.load_labware('nest_96_wellplate_100ul_pcr_full_skirt')\n    tuberack = ctx.load_labware(\n        'opentrons_24_tuberack_eppendorf_1.5ml_safelock_snapcap',\n        '1',\n        'reagent tuberack'\n    )\n    tipracks = [\n        ctx.load_labware('opentrons_96_tiprack_20ul', slot, '20ul tiprack')\n        for slot in ['2', '3', '5']\n    ]\n\n    # sample and reagent setup\n    sample_names = [\n        well.strip().upper()\n        for well in samples_csv.splitlines()[0].split(',')\n        if well\n    ]\n    samples = [\n        tc_plate.wells_by_name()[well]\n        for well in sample_names\n        if well in tc_plate.wells_by_name()\n    ]\n    enzyme = tuberack.wells()[0]\n    reagents = [tuberack.wells()[i] for i in [1, 2]]\n\n    # pipettes\n    p20 = ctx.load_instrument(\n        'p20_single_gen2', p20_mount, tip_racks=tipracks)\n\n    # transfer enzyme\n    for s in samples:\n        p20.pick_up_tip()\n        p20.transfer(\n            10, enzyme, s.bottom(2), mix_after=(3, 7), new_tip='never')\n        p20.blow_out(s.top(-2))\n        p20.drop_tip()\n\n    tc.set_block_temperature(incubation_temperature)\n    tc.set_lid_temperature(incubation_temperature)\n    tc.close_lid()\n    ctx.delay(minutes=60)\n    tc.open_lid()\n\n    # transfer reagents\n    for i, r in enumerate(reagents):\n        for s in samples:\n            p20.pick_up_tip()\n            p20.transfer(\n                5, r, s.bottom(2), mix_after=(3, 7), new_tip='never')\n            p20.blow_out(s.top(-2))\n            p20.drop_tip()\n\n        if i == 0:\n            tc.close_lid()\n            ctx.delay(minutes=30)\n            tc.open_lid()\n", "custom_labware_defs": []}