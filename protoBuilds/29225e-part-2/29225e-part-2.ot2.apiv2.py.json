{
    "content": "from operator import itemgetter\nfrom opentrons.protocol_api.labware import Well, OutOfTipsError\n# import from python types module\nfrom types import MethodType\n# import types from opentrons module\nfrom opentrons import types\nimport math\nimport csv\n\nmetadata = {\n    'title': 'qRT-PCR Reaction Setup',\n    'author': 'Steve Plonk',\n    'apiLevel': '2.10'\n}\n\n\ndef run(ctx):\n\n    [sample_cherrypicking, vol_h2o, labware_mm, labware_samp,\n     labware_pcr, clearance_mm, clearance_samp, clearance_pcr,\n     uploaded_csv_mastermix, uploaded_csv] = get_values(  # noqa: F821\n        \"sample_cherrypicking\", \"vol_h2o\", \"labware_mm\",\n        \"labware_samp\", \"labware_pcr\", \"clearance_mm\", \"clearance_samp\",\n        \"clearance_pcr\", \"uploaded_csv_mastermix\", \"uploaded_csv\")\n\n    ctx.set_rail_lights(True)\n    ctx.delay(seconds=10)\n\n    if not 100 <= vol_h2o <= 1000:\n        raise Exception(\n         'Starting volume of water must be between 100 and 1000 uL.')\n\n    # csv transfers as list of dictionaries\n    tfers = [line for line in csv.DictReader(uploaded_csv.splitlines())]\n\n    sample_count = len(tfers)\n    if not 1 <= sample_count <= 96:\n        raise Exception('Invalid number of samples (must be 1-96).')\n\n    # count unique values in csv, load Normalized RNA labware\n    samps = [ctx.load_labware(labware_samp, slot, \"Normalized RNA Samples\")\n             for slot in [2, 3, 5, 6][:len(set([tfer['source plate or rack']\n                                      for tfer in tfers]))]]\n\n    # count unique values in csv, load master mix labware\n    mms = [ctx.load_labware(labware_mm, slot, \"Master Mixes\")\n           for slot in [4, 7, 8, 9][:len(set([tfer['master mix rack']\n                                              for tfer in tfers]))]]\n\n    # tips\n    tips20 = [ctx.load_labware(\n     'opentrons_96_filtertiprack_20ul', str(slot)) for slot in [10]]\n    tips300 = [ctx.load_labware(\n     'opentrons_96_filtertiprack_200ul', str(slot)) for slot in [11]]\n\n    # p300 single\n    p300s = ctx.load_instrument(\"p300_single_gen2\", 'right', tip_racks=tips300)\n\n    # p20 multi(if RNA not cherry-picked and in 96-well) otherwise single\n    pip20 = ctx.load_instrument(\n     \"p20_multi_gen2\", 'left', tip_racks=tips20) if (\n     not sample_cherrypicking and len(samps[0].wells()) == 96\n     ) else ctx.load_instrument(\"p20_single_gen2\", 'left', tip_racks=tips20)\n\n    # 4 degree temperature module with PCR plate\n    temp = ctx.load_module('temperature module gen2', '1')\n    pcr_plate = temp.load_labware(\n     labware_pcr, \"PCR Plate at 4 Degrees\")\n    temp.set_temperature(4)\n\n    # extended well class to track liquid vol and height\n    class WellH(Well):\n        def __init__(self, well, min_height=5, comp_coeff=1.15,\n                     current_volume=0):\n            super().__init__(well._impl)\n            self.well = well\n            self.min_height = min_height\n            self.comp_coeff = comp_coeff\n            self.current_volume = current_volume\n            if self.diameter is not None:\n                self.radius = self.diameter/2\n                cse = math.pi*(self.radius**2)\n            elif self.length is not None:\n                cse = self.length*self.width\n            self.height = round(current_volume/cse)\n            if self.height < min_height:\n                self.height = min_height\n            elif self.height > well.parent.highest_z:\n                raise Exception(\"\"\"Specified liquid volume\n                can not exceed the height of the labware.\"\"\")\n\n        def height_dec(self, vol):\n            if self.diameter is not None:\n                cse = math.pi*(self.radius**2)\n            elif self.length is not None:\n                cse = self.length*self.width\n            dh = round((vol/cse)*self.comp_coeff)\n            if self.height - dh > self.min_height:\n                self.height = self.height - dh\n            else:\n                self.height = self.min_height\n            if self.current_volume - vol > 0:\n                self.current_volume = self.current_volume - vol\n            else:\n                self.current_volume = 0\n            return(self.well.bottom(self.height))\n\n        def height_inc(self, vol, top=False):\n            if self.diameter is not None:\n                cse = math.pi*(self.radius**2)\n            elif self.length is not None:\n                cse = self.length*self.width\n            ih = round((vol/cse)*self.comp_coeff)\n            if self.height < self.min_height:\n                self.height = self.min_height\n            if self.height + ih < self.depth:\n                self.height = self.height + ih\n            else:\n                self.height = self.depth\n            self.current_volume += vol\n            if top is False:\n                return(self.well.bottom(self.height))\n            else:\n                return(self.well.top())\n\n    # water tube (vol and liquid height tracking)\n    water = WellH(mms[0].wells()[0], min_height=1, current_volume=vol_h2o)\n\n    # master mix tubes (vol and liquid height tracking)\n    mm_tubes = [WellH(mms[int(line['master mix rack'])-1].wells_by_name()[\n     line['master mix well']], min_height=1, current_volume=int(\n     line['master mix starting vol'])) for line in sorted(csv.DictReader(\n      uploaded_csv_mastermix.splitlines()), key=itemgetter(\n      'master mix rack', 'master mix well')) if mms[int(\n       line['master mix rack'])-1].wells_by_name()[\n       line['master mix well']] in [mms[int(\n        line['master mix rack'])-1].wells_by_name()[\n        line['master mix well']] for line in tfers]]\n\n    def mm_sources():\n        yield from mm_tubes\n\n    mm = mm_sources()\n\n    def pick_up_or_refill(self):\n        try:\n            self.pick_up_tip()\n        except OutOfTipsError:\n            pause_attention(\n             \"\"\"Please Refill the {} Tip Boxes\n                and Empty the Tip Waste.\"\"\".format(self))\n            self.reset_tipracks()\n            self.pick_up_tip()\n\n    def pause_attention(message):\n        ctx.set_rail_lights(False)\n        ctx.delay(seconds=10)\n        ctx.pause(message)\n        ctx.set_rail_lights(True)\n\n    def slow_tip_withdrawal(\n     self, speed_limit, well_location, to_surface=False):\n        if self.mount == 'right':\n            axis = 'A'\n        else:\n            axis = 'Z'\n        previous_limit = None\n        if axis in ctx.max_speeds.keys():\n            for key, value in ctx.max_speeds.items():\n                if key == axis:\n                    previous_limit = value\n        ctx.max_speeds[axis] = speed_limit\n        if to_surface is False:\n            self.move_to(well_location.top())\n        else:\n            if isinstance(well_location, WellH):\n                self.move_to(well_location.bottom().move(types.Point(\n                 x=0, y=0, z=well_location.height+(\n                  20*(self._tip_racks[0].wells()[0].depth / 88)))))\n            else:\n                self.move_to(well_location.center())\n        ctx.max_speeds[axis] = previous_limit\n\n    def delay(self, delay_time):\n        ctx.delay(seconds=delay_time)\n\n    # bind additional methods to pipettes\n    for pipette_object in [pip20, p300s]:\n        for method in [pick_up_or_refill, slow_tip_withdrawal, delay]:\n            setattr(\n             pipette_object, method.__name__,\n             MethodType(method, pipette_object))\n\n    def distribute_water(pip, lst, disposal):\n        nonlocal water\n        if lst != []:\n            disp = []\n            in_tip = 0\n            pip.pick_up_tip()\n            pip.aspirate(disposal, water.height_dec(disposal))\n            in_tip += disposal\n            for index, tfer in enumerate(lst):\n                vol = float(tfer['water vol'])\n                dst = pcr_plate.wells_by_name()[tfer['dest well']]\n                # if water.current_volume <= 50:\n                #    try:\n                #        water = next(water_tube)\n                #    except StopIteration:\n                #        ctx.comment(\"The next water tube was not found.\")\n                if vol + in_tip > pip._tip_racks[0].wells()[0].max_volume:\n                    for d in disp:\n                        pip.dispense(float(d[0]), d[1].bottom(clearance_pcr))\n                    disp = []\n                    pip.dispense(disposal, water.height_inc(disposal))\n                    in_tip = 0\n                    pip.aspirate(disposal, water.height_dec(disposal))\n                    in_tip += disposal\n                pip.aspirate(vol, water.height_dec(vol))\n                in_tip += vol\n                disp.append((vol, dst))\n                if index == len(lst)-1:\n                    for d in disp:\n                        pip.dispense(float(d[0]), d[1].bottom(clearance_pcr))\n            pip.drop_tip()\n\n    # distribute water to PCR plate\n    water_transfers = []\n    for tfer in tfers:\n        if int(tfer['water vol']):\n            water_transfers.append(tfer)\n    if pip20.name == \"p20_single_gen2\":\n        distribute_water(pip20, water_transfers, 2)\n    else:\n        pause_attention(\"\"\"Please manually dispense the indicated volumes of\n        water to the corresponding PCR plate wells and then resume\n        {}.\"\"\".format([\"{0} ul to {1}\".format(\n         tfer['water vol'], tfer['dest well']) for tfer in water_transfers]))\n\n    def create_chunks(list_name, n):\n        for i in range(0, len(list_name), n):\n            yield list_name[i:i+n]\n\n    # distribute master mix to PCR plate\n    mm_source = next(mm)\n    current_transfers = {'vol': [], 'dest': []}\n    p300s.pick_up_tip()\n    for tfer in sorted(\n     tfers, key=itemgetter('master mix rack', 'master mix well')):\n        if mms[int(tfer['master mix rack'])-1].wells_by_name()[\n         tfer['master mix well']] == mm_source:\n            current_transfers['vol'].append(float(tfer['master mix vol']))\n            current_transfers['dest'].append(tfer['master mix well'])\n        else:\n            dest = (dest for dest in current_transfers['dest'])\n            if not p300s.has_tip:\n                p300s.pick_up_or_refill()\n            p300s.aspirate(15, mm_source.height_dec(15), rate=0.3)\n            for chunk in create_chunks(current_transfers['vol'], math.floor(\n             tips300[0].wells()[0].max_volume / 20)):\n                asp_vol = sum(chunk)\n                p300s.aspirate(\n                 asp_vol, mm_source.height_dec(asp_vol), rate=0.3)\n                p300s.delay(1)\n                p300s.slow_tip_withdrawal(10, mm_source)\n                for vol in chunk:\n                    d = pcr_plate.wells_by_name()[next(dest)]\n                    p300s.dispense(vol, d.bottom(clearance_pcr), rate=0.3)\n                    p300s.delay(1)\n                    p300s.slow_tip_withdrawal(10, d)\n            try:\n                mm_source = next(mm)\n                p300s.drop_tip()\n            except StopIteration:\n                break\n            current_transfers = {'vol': [], 'dest': []}\n\n    # transfer normalized RNA to PCR plate\n    rna_tfers = sorted([tfer for tfer in tfers if (tfer['dest well'] in [\n     'A'+str(num+1) for num in range(12)] and tfer['source well'] in [\n     'A'+str(num+1) for num in range(12)])], key=itemgetter('dest well')\n     ) if pip20.name == \"p20_multi_gen2\" else tfers\n    for tfer in rna_tfers:\n        pip20.pick_up_or_refill()\n        vol = float(tfer['source vol'])\n        pip20.aspirate(\n         vol, samps[int(tfer['source plate or rack'])-1].wells_by_name()[\n          tfer['source well']].bottom(clearance_samp))\n        pip20.dispense(\n         vol, pcr_plate.wells_by_name()[\n          tfer['dest well']].bottom(clearance_pcr))\n        pip20.mix(6, 10)\n        pip20.drop_tip()\n",
    "custom_labware_defs": [
        {
            "brand": {
                "brand": "takara",
                "brandId": []
            },
            "cornerOffsetFromSlot": {
                "x": 0,
                "y": 0,
                "z": 0
            },
            "dimensions": {
                "xDimension": 127.75,
                "yDimension": 85.5,
                "zDimension": 44
            },
            "groups": [
                {
                    "metadata": {
                        "displayCategory": "tubeRack",
                        "wellBottomShape": "flat"
                    },
                    "wells": [
                        "A1",
                        "B1",
                        "C1",
                        "D1",
                        "A2",
                        "B2",
                        "C2",
                        "D2",
                        "A3",
                        "B3",
                        "C3",
                        "D3",
                        "A4",
                        "B4",
                        "C4",
                        "D4",
                        "A5",
                        "B5",
                        "C5",
                        "D5",
                        "A6",
                        "B6",
                        "C6",
                        "D6"
                    ]
                }
            ],
            "metadata": {
                "displayCategory": "aluminumBlock",
                "displayName": "Takara 24 Aluminum Block 1500 \u00b5L",
                "displayVolumeUnits": "\u00b5L",
                "tags": []
            },
            "namespace": "custom_beta",
            "ordering": [
                [
                    "A1",
                    "B1",
                    "C1",
                    "D1"
                ],
                [
                    "A2",
                    "B2",
                    "C2",
                    "D2"
                ],
                [
                    "A3",
                    "B3",
                    "C3",
                    "D3"
                ],
                [
                    "A4",
                    "B4",
                    "C4",
                    "D4"
                ],
                [
                    "A5",
                    "B5",
                    "C5",
                    "D5"
                ],
                [
                    "A6",
                    "B6",
                    "C6",
                    "D6"
                ]
            ],
            "parameters": {
                "format": "irregular",
                "isMagneticModuleCompatible": false,
                "isTiprack": false,
                "loadName": "takara_snap_cap_24_aluminumblock_1500ul",
                "quirks": []
            },
            "schemaVersion": 2,
            "version": 1,
            "wells": {
                "A1": {
                    "depth": 38,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 20.75,
                    "y": 68.63,
                    "z": 6
                },
                "A2": {
                    "depth": 38,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 38,
                    "y": 68.63,
                    "z": 6
                },
                "A3": {
                    "depth": 38,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 55.25,
                    "y": 68.63,
                    "z": 6
                },
                "A4": {
                    "depth": 38,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 72.5,
                    "y": 68.63,
                    "z": 6
                },
                "A5": {
                    "depth": 38,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 89.75,
                    "y": 68.63,
                    "z": 6
                },
                "A6": {
                    "depth": 38,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 107,
                    "y": 68.63,
                    "z": 6
                },
                "B1": {
                    "depth": 38,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 20.75,
                    "y": 51.38,
                    "z": 6
                },
                "B2": {
                    "depth": 38,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 38,
                    "y": 51.38,
                    "z": 6
                },
                "B3": {
                    "depth": 38,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 55.25,
                    "y": 51.38,
                    "z": 6
                },
                "B4": {
                    "depth": 38,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 72.5,
                    "y": 51.38,
                    "z": 6
                },
                "B5": {
                    "depth": 38,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 89.75,
                    "y": 51.38,
                    "z": 6
                },
                "B6": {
                    "depth": 38,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 107,
                    "y": 51.38,
                    "z": 6
                },
                "C1": {
                    "depth": 38,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 20.75,
                    "y": 34.13,
                    "z": 6
                },
                "C2": {
                    "depth": 38,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 38,
                    "y": 34.13,
                    "z": 6
                },
                "C3": {
                    "depth": 38,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 55.25,
                    "y": 34.13,
                    "z": 6
                },
                "C4": {
                    "depth": 38,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 72.5,
                    "y": 34.13,
                    "z": 6
                },
                "C5": {
                    "depth": 38,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 89.75,
                    "y": 34.13,
                    "z": 6
                },
                "C6": {
                    "depth": 38,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 107,
                    "y": 34.13,
                    "z": 6
                },
                "D1": {
                    "depth": 38,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 20.75,
                    "y": 16.88,
                    "z": 6
                },
                "D2": {
                    "depth": 38,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 38,
                    "y": 16.88,
                    "z": 6
                },
                "D3": {
                    "depth": 38,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 55.25,
                    "y": 16.88,
                    "z": 6
                },
                "D4": {
                    "depth": 38,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 72.5,
                    "y": 16.88,
                    "z": 6
                },
                "D5": {
                    "depth": 38,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 89.75,
                    "y": 16.88,
                    "z": 6
                },
                "D6": {
                    "depth": 38,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 107,
                    "y": 16.88,
                    "z": 6
                }
            }
        },
        {
            "brand": {
                "brand": "eppendorf",
                "brandId": []
            },
            "cornerOffsetFromSlot": {
                "x": 0,
                "y": 0,
                "z": 0
            },
            "dimensions": {
                "xDimension": 127.75,
                "yDimension": 85.5,
                "zDimension": 44
            },
            "groups": [
                {
                    "metadata": {
                        "displayCategory": "tubeRack",
                        "wellBottomShape": "flat"
                    },
                    "wells": [
                        "A1",
                        "B1",
                        "C1",
                        "D1",
                        "A2",
                        "B2",
                        "C2",
                        "D2",
                        "A3",
                        "B3",
                        "C3",
                        "D3",
                        "A4",
                        "B4",
                        "C4",
                        "D4",
                        "A5",
                        "B5",
                        "C5",
                        "D5",
                        "A6",
                        "B6",
                        "C6",
                        "D6"
                    ]
                }
            ],
            "metadata": {
                "displayCategory": "aluminumBlock",
                "displayName": "Eppendorf 24 Aluminum Block 1500 \u00b5L",
                "displayVolumeUnits": "\u00b5L",
                "tags": []
            },
            "namespace": "custom_beta",
            "ordering": [
                [
                    "A1",
                    "B1",
                    "C1",
                    "D1"
                ],
                [
                    "A2",
                    "B2",
                    "C2",
                    "D2"
                ],
                [
                    "A3",
                    "B3",
                    "C3",
                    "D3"
                ],
                [
                    "A4",
                    "B4",
                    "C4",
                    "D4"
                ],
                [
                    "A5",
                    "B5",
                    "C5",
                    "D5"
                ],
                [
                    "A6",
                    "B6",
                    "C6",
                    "D6"
                ]
            ],
            "parameters": {
                "format": "irregular",
                "isMagneticModuleCompatible": false,
                "isTiprack": false,
                "loadName": "eppendorf_snap_cap_24_aluminumblock_1500ul",
                "quirks": []
            },
            "schemaVersion": 2,
            "version": 1,
            "wells": {
                "A1": {
                    "depth": 37.5,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 20.75,
                    "y": 68.63,
                    "z": 6.5
                },
                "A2": {
                    "depth": 37.5,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 38,
                    "y": 68.63,
                    "z": 6.5
                },
                "A3": {
                    "depth": 37.5,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 55.25,
                    "y": 68.63,
                    "z": 6.5
                },
                "A4": {
                    "depth": 37.5,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 72.5,
                    "y": 68.63,
                    "z": 6.5
                },
                "A5": {
                    "depth": 37.5,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 89.75,
                    "y": 68.63,
                    "z": 6.5
                },
                "A6": {
                    "depth": 37.5,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 107,
                    "y": 68.63,
                    "z": 6.5
                },
                "B1": {
                    "depth": 37.5,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 20.75,
                    "y": 51.38,
                    "z": 6.5
                },
                "B2": {
                    "depth": 37.5,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 38,
                    "y": 51.38,
                    "z": 6.5
                },
                "B3": {
                    "depth": 37.5,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 55.25,
                    "y": 51.38,
                    "z": 6.5
                },
                "B4": {
                    "depth": 37.5,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 72.5,
                    "y": 51.38,
                    "z": 6.5
                },
                "B5": {
                    "depth": 37.5,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 89.75,
                    "y": 51.38,
                    "z": 6.5
                },
                "B6": {
                    "depth": 37.5,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 107,
                    "y": 51.38,
                    "z": 6.5
                },
                "C1": {
                    "depth": 37.5,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 20.75,
                    "y": 34.13,
                    "z": 6.5
                },
                "C2": {
                    "depth": 37.5,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 38,
                    "y": 34.13,
                    "z": 6.5
                },
                "C3": {
                    "depth": 37.5,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 55.25,
                    "y": 34.13,
                    "z": 6.5
                },
                "C4": {
                    "depth": 37.5,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 72.5,
                    "y": 34.13,
                    "z": 6.5
                },
                "C5": {
                    "depth": 37.5,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 89.75,
                    "y": 34.13,
                    "z": 6.5
                },
                "C6": {
                    "depth": 37.5,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 107,
                    "y": 34.13,
                    "z": 6.5
                },
                "D1": {
                    "depth": 37.5,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 20.75,
                    "y": 16.88,
                    "z": 6.5
                },
                "D2": {
                    "depth": 37.5,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 38,
                    "y": 16.88,
                    "z": 6.5
                },
                "D3": {
                    "depth": 37.5,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 55.25,
                    "y": 16.88,
                    "z": 6.5
                },
                "D4": {
                    "depth": 37.5,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 72.5,
                    "y": 16.88,
                    "z": 6.5
                },
                "D5": {
                    "depth": 37.5,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 89.75,
                    "y": 16.88,
                    "z": 6.5
                },
                "D6": {
                    "depth": 37.5,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 107,
                    "y": 16.88,
                    "z": 6.5
                }
            }
        },
        {
            "brand": {
                "brand": "ambion",
                "brandId": []
            },
            "cornerOffsetFromSlot": {
                "x": 0,
                "y": 0,
                "z": 0
            },
            "dimensions": {
                "xDimension": 127.75,
                "yDimension": 85.5,
                "zDimension": 43.5
            },
            "groups": [
                {
                    "metadata": {
                        "displayCategory": "tubeRack",
                        "wellBottomShape": "v"
                    },
                    "wells": [
                        "A1",
                        "B1",
                        "C1",
                        "D1",
                        "A2",
                        "B2",
                        "C2",
                        "D2",
                        "A3",
                        "B3",
                        "C3",
                        "D3",
                        "A4",
                        "B4",
                        "C4",
                        "D4",
                        "A5",
                        "B5",
                        "C5",
                        "D5",
                        "A6",
                        "B6",
                        "C6",
                        "D6"
                    ]
                }
            ],
            "metadata": {
                "displayCategory": "aluminumBlock",
                "displayName": "Ambion 24 Aluminum Block 1500 \u00b5L",
                "displayVolumeUnits": "\u00b5L",
                "tags": []
            },
            "namespace": "custom_beta",
            "ordering": [
                [
                    "A1",
                    "B1",
                    "C1",
                    "D1"
                ],
                [
                    "A2",
                    "B2",
                    "C2",
                    "D2"
                ],
                [
                    "A3",
                    "B3",
                    "C3",
                    "D3"
                ],
                [
                    "A4",
                    "B4",
                    "C4",
                    "D4"
                ],
                [
                    "A5",
                    "B5",
                    "C5",
                    "D5"
                ],
                [
                    "A6",
                    "B6",
                    "C6",
                    "D6"
                ]
            ],
            "parameters": {
                "format": "irregular",
                "isMagneticModuleCompatible": false,
                "isTiprack": false,
                "loadName": "ambion_snap_cap_24_aluminumblock_1500ul",
                "quirks": []
            },
            "schemaVersion": 2,
            "version": 1,
            "wells": {
                "A1": {
                    "depth": 39,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 20.75,
                    "y": 68.63,
                    "z": 4.5
                },
                "A2": {
                    "depth": 39,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 38,
                    "y": 68.63,
                    "z": 4.5
                },
                "A3": {
                    "depth": 39,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 55.25,
                    "y": 68.63,
                    "z": 4.5
                },
                "A4": {
                    "depth": 39,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 72.5,
                    "y": 68.63,
                    "z": 4.5
                },
                "A5": {
                    "depth": 39,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 89.75,
                    "y": 68.63,
                    "z": 4.5
                },
                "A6": {
                    "depth": 39,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 107,
                    "y": 68.63,
                    "z": 4.5
                },
                "B1": {
                    "depth": 39,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 20.75,
                    "y": 51.38,
                    "z": 4.5
                },
                "B2": {
                    "depth": 39,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 38,
                    "y": 51.38,
                    "z": 4.5
                },
                "B3": {
                    "depth": 39,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 55.25,
                    "y": 51.38,
                    "z": 4.5
                },
                "B4": {
                    "depth": 39,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 72.5,
                    "y": 51.38,
                    "z": 4.5
                },
                "B5": {
                    "depth": 39,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 89.75,
                    "y": 51.38,
                    "z": 4.5
                },
                "B6": {
                    "depth": 39,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 107,
                    "y": 51.38,
                    "z": 4.5
                },
                "C1": {
                    "depth": 39,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 20.75,
                    "y": 34.13,
                    "z": 4.5
                },
                "C2": {
                    "depth": 39,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 38,
                    "y": 34.13,
                    "z": 4.5
                },
                "C3": {
                    "depth": 39,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 55.25,
                    "y": 34.13,
                    "z": 4.5
                },
                "C4": {
                    "depth": 39,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 72.5,
                    "y": 34.13,
                    "z": 4.5
                },
                "C5": {
                    "depth": 39,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 89.75,
                    "y": 34.13,
                    "z": 4.5
                },
                "C6": {
                    "depth": 39,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 107,
                    "y": 34.13,
                    "z": 4.5
                },
                "D1": {
                    "depth": 39,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 20.75,
                    "y": 16.88,
                    "z": 4.5
                },
                "D2": {
                    "depth": 39,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 38,
                    "y": 16.88,
                    "z": 4.5
                },
                "D3": {
                    "depth": 39,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 55.25,
                    "y": 16.88,
                    "z": 4.5
                },
                "D4": {
                    "depth": 39,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 72.5,
                    "y": 16.88,
                    "z": 4.5
                },
                "D5": {
                    "depth": 39,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 89.75,
                    "y": 16.88,
                    "z": 4.5
                },
                "D6": {
                    "depth": 39,
                    "diameter": 10,
                    "shape": "circular",
                    "totalLiquidVolume": 1500,
                    "x": 107,
                    "y": 16.88,
                    "z": 4.5
                }
            }
        }
    ],
    "fields": [
        {
            "label": "Cherry Pick Samples? (yes or no)",
            "name": "sample_cherrypicking",
            "options": [
                {
                    "label": "NO - use p20 multi (be sure to choose 96-well labware for RNA)",
                    "value": false
                },
                {
                    "label": "YES - use 20 single one sample at a time",
                    "value": true
                }
            ],
            "type": "dropDown"
        },
        {
            "default": 1000,
            "label": "Initial Volume of RNAse-Free Water in Water Tube - located A1 of First Master Mix Rack (uL)",
            "name": "vol_h2o",
            "type": "float"
        },
        {
            "label": "Labware Containing Master Mixes",
            "name": "labware_mm",
            "options": [
                {
                    "label": "opentrons_24_tuberack_eppendorf_1.5ml_safelock_snapcap",
                    "value": "opentrons_24_tuberack_eppendorf_1.5ml_safelock_snapcap"
                },
                {
                    "label": "ambion_snap_cap_24_aluminumblock_1500ul",
                    "value": "ambion_snap_cap_24_aluminumblock_1500ul"
                },
                {
                    "label": "eppendorf_snap_cap_24_aluminumblock_1500ul",
                    "value": "eppendorf_snap_cap_24_aluminumblock_1500ul"
                },
                {
                    "label": "takara_snap_cap_24_aluminumblock_1500ul",
                    "value": "takara_snap_cap_24_aluminumblock_1500ul"
                }
            ],
            "type": "dropDown"
        },
        {
            "label": "Labware Containing Normalized RNA Samples",
            "name": "labware_samp",
            "options": [
                {
                    "label": "nest_96_wellplate_2ml_deep",
                    "value": "nest_96_wellplate_2ml_deep"
                },
                {
                    "label": "opentrons_24_tuberack_eppendorf_1.5ml_safelock_snapcap",
                    "value": "opentrons_24_tuberack_eppendorf_1.5ml_safelock_snapcap"
                },
                {
                    "label": "opentrons_96_aluminumblock_biorad_wellplate_200ul",
                    "value": "opentrons_96_aluminumblock_biorad_wellplate_200ul"
                }
            ],
            "type": "dropDown"
        },
        {
            "label": "Labware for PCR Plate on Temperature Module",
            "name": "labware_pcr",
            "options": [
                {
                    "label": "opentrons_96_aluminumblock_biorad_wellplate_200ul",
                    "value": "opentrons_96_aluminumblock_biorad_wellplate_200ul"
                }
            ],
            "type": "dropDown"
        },
        {
            "default": 1,
            "label": "Minimum Well Bottom Clearance for Master Mix Aspiration (mm)",
            "name": "clearance_mm",
            "type": "float"
        },
        {
            "default": 1,
            "label": "Well Bottom Clearance for Aspiration of Normalized RNA Samples (mm)",
            "name": "clearance_samp",
            "type": "float"
        },
        {
            "default": 1,
            "label": "Well Bottom Clearance for Dispense to PCR Plate (mm)",
            "name": "clearance_pcr",
            "type": "float"
        },
        {
            "default": "master mix rack,master mix well,master mix starting vol\n1,A1,1500\n1,B1,1200\n1,C1,500\n",
            "label": "Upload Master Mix CSV Input File (Upload CSV-formatted Excel File-with formatting of data values and file identical to example)",
            "name": "uploaded_csv_mastermix",
            "type": "textFile"
        },
        {
            "default": "master mix rack,master mix well,master mix vol,source plate or rack,source well,column number,source vol,dest well,water vol\n1,A1,18,1,A1,1,2,A1,0\n1,A1,18,1,B1,1,2,B1,0\n1,A1,18,1,C1,1,2,C1,0\n1,A1,18,1,D1,1,2,D1,0\n1,A1,18,1,E1,1,2,E1,0\n1,A1,18,1,F1,1,2,F1,0\n1,A1,18,1,G1,1,2,G1,0\n1,A1,18,1,H1,1,2,H1,0\n1,A1,18,1,A2,2,2,A2,0\n1,A1,18,1,B2,2,2,B2,0\n1,A1,18,1,C2,2,2,C2,0\n1,A1,18,1,D2,2,2,D2,0\n1,A1,18,1,E2,2,2,E2,0\n1,A1,18,1,F2,2,2,F2,0\n1,A1,18,1,G2,2,2,G2,0\n1,A1,18,1,H2,2,2,H2,0\n1,A1,18,1,A3,3,2,A3,0\n1,A1,18,1,B3,3,2,B3,0\n1,A1,18,1,C3,3,2,C3,0\n1,A1,18,1,D3,3,2,D3,0\n1,A1,18,1,E3,3,2,E3,0\n1,A1,18,1,F3,3,2,F3,0\n1,A1,18,1,G3,3,2,G3,0\n1,A1,18,1,H3,3,2,H3,0\n1,B1,18,1,A4,4,2,A4,0\n1,B1,18,1,B4,4,2,B4,0\n1,B1,18,1,C4,4,2,C4,0\n1,B1,18,1,D4,4,2,D4,0\n1,B1,18,1,E4,4,2,E4,0\n1,B1,18,1,F4,4,2,F4,0\n1,B1,18,1,G4,4,2,G4,0\n1,B1,18,1,H4,4,2,H4,0\n1,B1,18,1,A5,5,2,A5,0\n1,B1,18,1,B5,5,2,B5,0\n1,B1,18,1,C5,5,2,C5,0\n1,B1,18,1,D5,5,2,D5,0\n1,B1,18,1,E5,5,2,E5,0\n1,B1,18,1,F5,5,2,F5,0\n1,B1,18,1,G5,5,2,G5,0\n1,B1,18,1,H5,5,2,H5,0\n1,B1,18,1,A6,6,2,A6,0\n1,B1,18,1,B6,6,2,B6,0\n1,B1,18,1,C6,6,2,C6,0\n1,B1,18,1,D6,6,2,D6,0\n1,B1,18,1,E6,6,2,E6,0\n1,B1,18,1,F6,6,2,F6,0\n1,B1,18,1,G6,6,2,G6,0\n1,B1,18,1,H6,6,2,H6,0\n1,B1,18,1,A7,7,2,A7,0\n1,B1,18,1,B7,7,2,B7,0\n1,B1,18,1,C7,7,2,C7,0\n1,B1,18,1,D7,7,2,D7,0\n1,B1,18,1,E7,7,2,E7,0\n1,B1,18,1,F7,7,2,F7,0\n1,B1,18,1,G7,7,2,G7,0\n1,B1,18,1,H7,7,2,H7,0\n1,B1,18,1,A8,8,2,A8,0\n1,B1,18,1,B8,8,2,B8,0\n1,B1,18,1,C8,8,2,C8,0\n1,B1,18,1,D8,8,2,D8,0\n1,B1,18,1,E8,8,2,E8,0\n1,B1,18,1,F8,8,2,F8,0\n1,B1,18,1,G8,8,2,G8,0\n1,B1,18,1,H8,8,2,H8,0\n1,C1,18,2,A1,1,2,A9,0\n1,C1,18,2,B1,1,2,B9,0\n1,C1,18,2,C1,1,2,C9,0\n1,C1,18,2,D1,1,2,D9,0\n1,C1,18,2,E1,1,2,E9,0\n1,C1,18,2,F1,1,2,F9,0\n1,C1,18,2,G1,1,2,G9,0\n1,C1,18,2,H1,1,2,H9,0\n1,C1,18,2,A2,2,2,A10,0\n1,C1,18,2,B2,2,2,B10,0\n1,C1,18,2,C2,2,2,C10,0\n1,C1,18,2,D2,2,2,D10,0\n1,C1,18,2,E2,2,2,E10,0\n1,C1,18,2,F2,2,2,F10,0\n1,C1,18,2,G2,2,2,G10,0\n1,C1,18,2,H2,2,2,H10,0\n1,C1,18,3,A1,1,2,A11,0\n1,C1,18,3,B1,1,2,B11,0\n1,C1,18,3,C1,1,2,C11,0\n1,C1,18,3,D1,1,2,D11,0\n1,C1,18,3,E1,1,2,E11,0\n1,C1,18,3,F1,1,2,F11,0\n1,C1,18,3,G1,1,2,G11,0\n1,C1,18,3,H1,1,2,H11,0\n1,C1,18,3,A2,2,1,A12,1\n1,C1,18,3,B2,2,1,B12,1\n1,C1,18,3,C2,2,1,C12,1\n1,C1,18,3,D2,2,1,D12,1\n1,C1,18,3,E2,2,1,E12,1\n1,C1,18,3,F2,2,1,F12,1\n1,C1,18,3,G2,2,1,G12,1\n1,C1,18,3,H2,2,1,H12,1\n",
            "label": "Upload Transfers CSV Input File (Upload CSV-formatted Excel File-with formatting of data values and file identical to example)",
            "name": "uploaded_csv",
            "type": "textFile"
        }
    ],
    "instruments": [
        {
            "mount": "left",
            "name": "p20_multi_gen2"
        },
        {
            "mount": "right",
            "name": "p300_single_gen2"
        }
    ],
    "labware": [
        {
            "name": "PCR Plate at 4 Degrees on Temperature Module GEN2 on 1",
            "share": false,
            "slot": "1",
            "type": "opentrons_96_aluminumblock_biorad_wellplate_200ul"
        },
        {
            "name": "Normalized RNA Samples on 2",
            "share": false,
            "slot": "2",
            "type": "nest_96_wellplate_2ml_deep"
        },
        {
            "name": "Normalized RNA Samples on 3",
            "share": false,
            "slot": "3",
            "type": "nest_96_wellplate_2ml_deep"
        },
        {
            "name": "Master Mixes on 4",
            "share": false,
            "slot": "4",
            "type": "opentrons_24_tuberack_eppendorf_1.5ml_safelock_snapcap"
        },
        {
            "name": "Normalized RNA Samples on 5",
            "share": false,
            "slot": "5",
            "type": "nest_96_wellplate_2ml_deep"
        },
        {
            "name": "Opentrons 96 Filter Tip Rack 20 \u00b5L on 10",
            "share": false,
            "slot": "10",
            "type": "opentrons_96_filtertiprack_20ul"
        },
        {
            "name": "Opentrons 96 Filter Tip Rack 200 \u00b5L on 11",
            "share": false,
            "slot": "11",
            "type": "opentrons_96_filtertiprack_200ul"
        },
        {
            "name": "Opentrons Fixed Trash on 12",
            "share": false,
            "slot": "12",
            "type": "opentrons_1_trash_1100ml_fixed"
        }
    ],
    "metadata": {
        "apiLevel": "2.10",
        "author": "Steve Plonk",
        "title": "qRT-PCR Reaction Setup"
    },
    "modules": []
}