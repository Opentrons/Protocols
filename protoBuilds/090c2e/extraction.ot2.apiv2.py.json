{
    "content": "import time\nfrom opentrons import protocol_api\nfrom opentrons import types\nfrom opentrons.protocol_api.labware import Well\nimport math\nfrom types import MethodType\nimport subprocess\nfrom opentrons.protocols.api_support.types import APIVersion\n\nmetadata = {\n    'protocolName': 'Omega Bio-Tek Mag-Bind Environmental DNA 96 Kit',\n    'author': 'Opentrons <protocols@opentrons.com>',\n    'source': 'Custom Protocol Request',\n    'apiLevel': '2.13'\n}\n\nAUDIO_FILE_PATH = '/etc/audio/speaker-test.mp3'\n\n\ndef run_quiet_process(command):\n    subprocess.check_output('{} &> /dev/null'.format(command), shell=True)\n\n\ndef test_speaker(song=AUDIO_FILE_PATH):\n    try:\n        run_quiet_process('mpg123 {}'.format(song))\n    except KeyboardInterrupt:\n        pass\n\n\ndef run(ctx: protocol_api.ProtocolContext):\n    [\n     _m300_mount,\n     lw_deepwell_plate,\n     _num_samps,\n     vol_xp1,\n     vol_removal,\n     _mag_time,\n     _air_dry,\n     _elution_vol,\n     flow_rate_wash,\n     _off_deck,\n     _music\n    ] = get_values(  # noqa: F821 (<--- DO NOT REMOVE!)\n         '_m300_mount',\n         'lw_deepwell_plate',\n         '_num_samps',\n         'vol_xp1',\n         'vol_removal',\n         '_mag_time',\n         '_air_dry',\n         '_elution_vol',\n         'flow_rate_wash',\n         '_off_deck',\n         '_music')\n\n    _inc_time = 10\n    _fin_wash = 600\n\n    if not 1 <= _num_samps <= 96:\n        raise Exception('The Number of Samples should be between 1 and 96')\n\n    # define all custom variables above here with descriptions\n\n    m300_mount = _m300_mount  # mount for 8-channel p300 pipette\n    num_cols = math.ceil(_num_samps/8)  # number of sample columns\n    elution_vol = _elution_vol  # volume of elution buffer\n    inc_time = _inc_time  # time for binding step\n    mag_time = _mag_time  # time on magnetic module\n    air_dry = _air_dry  # time for air drying\n    fin_wash = _fin_wash  # volume for final wash removal\n    off_deck = _off_deck  # True/False perform resuspension off-deck\n    music = _music  # play custom music (only in Oregon)\n\n    mag_deck = ctx.load_module('magnetic module gen2', 1)\n\n    # load labware\n    rsvr_12 = [ctx.load_labware('nest_12_reservoir_15ml', s) for s in [2, 3]]\n    rsvr_1 = ctx.load_labware('nest_1_reservoir_195ml', 4)\n    pcr_plate = ctx.load_labware('nest_96_wellplate_100ul_pcr_full_skirt', 10)\n    # Eluted DNA\n    # samp_plate = ctx.load_labware(samp_labware, 4)\n    mag_plate = mag_deck.load_labware(lw_deepwell_plate)\n\n    # load tipracks\n    tips = [\n        ctx.load_labware(\n            'opentrons_96_filtertiprack_200ul', s) for s in [5, 6, 7, 8, 9, 11]\n            ]\n    all_tips = [t for rack in tips for t in rack.rows()[0]]\n    t_start = 0\n    t_end = int(num_cols)\n\n    # load instrument\n    m300 = ctx.load_instrument('p300_multi_gen2', m300_mount, tip_racks=tips)\n\n    # extend well objects for improved liquid handling\n    class WellH(Well):\n        def __init__(self, well, min_height=0.5, comp_coeff=1.1,\n                     current_volume=0):\n            super().__init__(well.parent, well._core, APIVersion(2, 13))\n            # super().__init__(well._impl)\n            self.well = well\n            # specified minimum well bottom clearance\n            self.min_height = min_height\n            self.comp_coeff = comp_coeff\n            # specified starting volume in ul\n            self.current_volume = current_volume\n            # cross sectional area\n            if self.diameter is not None:\n                self.radius = self.diameter/2\n                cse = math.pi*(self.radius**2)\n            elif self.length is not None:\n                cse = self.length*self.width\n            else:\n                cse = None\n            self.cse = cse\n            # initial liquid level in mm from start vol\n            if cse:\n                self.height = (current_volume/cse)\n            else:\n                raise Exception('Labware definition must \\nsupply well radius or well length and width.')\n            if self.height < min_height:\n                self.height = min_height\n            elif self.height > well.parent.highest_z:\n                raise Exception('Specified liquid volume \\ncan not exceed the height of the labware.')\n\n        def height_dec(self, vol, ppt, bottom=False):\n            # decrement height (mm)\n            dh = (vol/self.cse)*self.comp_coeff\n            # tip immersion (mm) as fraction of tip length\n            mm_immersed = 0.05*ppt._tip_racks[0].wells()[0].depth\n            # decrement til target reaches specified min clearance\n            self.height = self.height - dh if (\n             (self.height - dh - mm_immersed) > self.min_height\n             ) else self.min_height + mm_immersed\n            self.current_volume = self.current_volume - vol if (\n             self.current_volume - vol > 0) else 0\n            tip_ht = self.height - mm_immersed if bottom is False else bottom\n            return self.well.bottom(tip_ht)\n\n        def height_inc(self, vol, top=False):\n            # increment height (mm)\n            ih = (vol/self.cse)*self.comp_coeff\n            # keep calculated liquid ht between min clearance and well depth\n            self.height = self.min_height if (\n             self.height < self.min_height) else self.height\n            self.height = (self.height + ih) if (\n             (self.height + ih) < self.depth) else self.depth\n            # increment\n            self.current_volume += vol\n            if top is False:\n                tip_ht = self.height\n                return self.well.bottom(tip_ht)\n            else:\n                return self.well.top()\n\n    # pipette functions   # INCLUDE ANY BINDING TO CLASS\n    def aspirate_h(self, vol, source, rate=1, bottom=False):\n        self.aspirate(\n         vol, source.height_dec(vol, self, bottom=bottom), rate=rate)\n\n    def dispense_h(self, vol, dest, rate=1, top=False):\n        self.dispense(vol, dest.height_inc(vol, top=top), rate=rate)\n\n    def slow_tip_withdrawal(\n     self, speed_limit, well_location, to_surface=False):\n        if self.mount == 'right':\n            axis = 'A'\n        else:\n            axis = 'Z'\n        previous_limit = None\n        if axis in ctx.max_speeds.keys():\n            for key, value in ctx.max_speeds.items():\n                if key == axis:\n                    previous_limit = value\n        ctx.max_speeds[axis] = speed_limit\n        if to_surface is False:\n            self.move_to(well_location.top())\n        else:\n            if isinstance(well_location, WellH):\n                self.move_to(well_location.bottom().move(types.Point(\n                 x=0, y=0, z=well_location.height+(\n                  20*(self._tip_racks[0].wells()[0].depth / 88)))))\n            else:\n                self.move_to(well_location.center())\n        ctx.max_speeds[axis] = previous_limit\n\n    def custom_pick_up(self, loc=None):\n        nonlocal t_start\n        nonlocal t_end\n        # `custom_pick_up` will pause the protocol when tip boxes are out of\n        # tips, prompting the user to replace all tip racks. Once tipracks are\n        # reset, the protocol will start picking up tips from the first tip\n        # box as defined in the slot order when assigning the labware def\n        # for that tip box. `pick_up()` will track tips for both pipettes if\n        # applicable.\n\n        # :param loc: User can manually specify location for tip pick up\n\n        if loc:\n            self.pick_up_tip(loc)\n        else:\n            try:\n                self.pick_up_tip()\n            except protocol_api.labware.OutOfTipsError:\n                flash_lights()\n                ctx.pause('Replace empty tip racks')\n                self.reset_tipracks()\n                t_start = 0\n                t_end = int(num_cols)\n                self.pick_up_tip()\n\n    # bind additional methods to pipettes\n    for met in [aspirate_h, dispense_h, slow_tip_withdrawal, custom_pick_up]:\n        setattr(\n         m300, met.__name__,\n         MethodType(met, m300))\n\n    # reagents\n    liquid_waste = rsvr_1.wells()[0].top()\n    # cspl = [WellH(well) for well in rsvr_12[0].wells()[:6]]\n    # for idx in range(num_cols):\n    #     cspl[idx//2].height_inc(720*8*1.1)\n\n    # helper functions\n    def flash_lights():\n        initial_status = ctx.rail_lights_on\n        for _ in range(19):\n            ctx.set_rail_lights(not ctx.rail_lights_on)\n            ctx.delay(seconds=0.25)\n        ctx.set_rail_lights(initial_status)\n\n    def mix_high_low(well, reps, vol, z_offset_low=1.0, z_offset_high=10.0,\n                     x_offset=2.0, y_offset=1.0, pip=m300,\n                     switch_sides_x=True):\n        for i in range(reps):\n            if switch_sides_x:\n                x_side = 1 if i % 2 == 0 else -1\n            else:\n                x_side = 1\n            y_side = 1 if (i//2) % 2 == 0 else -1\n            pip.aspirate(vol, well.bottom().move(types.Point(\n                x=x_side*x_offset, y=y_side*y_offset, z=z_offset_low)))\n            pip.dispense(vol, well.bottom().move(types.Point(\n                x=x_side*x_offset, y=y_side*y_offset, z=z_offset_high)))\n\n    def flow_rate(asp=92.86, disp=92.86, blow=92.86):\n        # This function can be used to quickly modify the flow rates of the\n        # pipette. If no parameters are entered, the flow rates will be\n        # reset.\n\n        # :param asp: Aspiration flow rate, in uL/sec\n        # :param disp: Dispense flow rate, in uL/sec\n\n        m300.flow_rate.aspirate = asp\n        m300.flow_rate.dispense = disp\n        m300.flow_rate.blow_out = blow\n\n    def remove_supernatant(vol, src):\n        w = int(str(src).split(' ')[0][1:])\n        if src.width is not None:\n            radi = float(src.width)/4\n        else:\n            radi = float(src.diameter)/4\n        x0 = radi if w % 2 == 0 else -radi\n        while vol > 180:\n            m300.aspirate(180, src.bottom().move(types.Point(x=x0, y=0, z=1)))\n            m300.dispense(200, liquid_waste)\n            m300.blow_out()\n            m300.aspirate(20, liquid_waste)\n            vol -= 180\n        m300.aspirate(vol, src.bottom().move(types.Point(x=x0, y=0, z=0.7)))\n        m300.dispense(vol+20, liquid_waste)\n        m300.blow_out()\n        m300.aspirate(10, liquid_waste)\n\n    def wash(srcs, msg, sup=600):\n        nonlocal t_start\n        nonlocal t_end\n\n        if mag_deck.status == 'engaged':\n            mag_deck.disengage()\n        ctx.comment(f'Performing wash step: {msg}')\n        flow_rate()\n        for idx, (col, src) in enumerate(zip(mag_samps_h, srcs)):\n            m300.custom_pick_up()\n            # src = srcs[idx//3]\n            for i in range(2):\n                flow_rate(asp=flow_rate_wash, disp=flow_rate_wash)\n                if i == 1:\n                    m300.dispense(20, src.top(-1))\n                    m300.dispense(20, src)\n                m300.mix(1, 200, src)\n                flow_rate()\n                m300.aspirate(200, src)\n                m300.slow_tip_withdrawal(10, src, to_surface=True)\n                m300.dispense(180, col.top(-2))\n                flow_rate(asp=10)\n                m300.aspirate(20, col.top())\n            m300.dispense(20, src.top())\n            flow_rate()\n            m300.mix(1, 140, src)\n            m300.aspirate(140, src)\n            m300.slow_tip_withdrawal(10, src, to_surface=True)\n            m300.dispense(140, col)\n            if not off_deck:\n                side = 1 if idx % 2 == 0 else -1\n                radius = col.diameter/2 if col.diameter else col.width/2\n                # bead_loc = col.bottom().move(\n                #     types.Point(x=side*radius*0.5, z=3))\n                mix_high_low(col, 10, 200, z_offset_low=3,\n                             x_offset=side*radius*0.4, switch_sides_x=False)\n            ctx.delay(seconds=5)\n            m300.slow_tip_withdrawal(10, col, to_surface=True)\n            m300.blow_out()\n            m300.touch_tip(speed=40)\n            m300.aspirate(10, col.top())\n            m300.drop_tip()\n\n        if off_deck:\n            flash_lights()\n            ctx.pause('Please remove plate for manual resuspension')\n\n        mag_deck.engage(7)\n        mag_msg = f'Incubating on Mag Deck for {mag_time} minutes'\n        ctx.delay(minutes=mag_time, msg=mag_msg)\n\n        # Discard Supernatant\n        ctx.comment(f'Removing supernatant for wash: {msg}')\n        t_start += num_cols\n        t_end += num_cols\n        for src, t_d in zip(mag_samps_h, all_tips[t_start:t_end]):\n            m300.custom_pick_up()\n            remove_supernatant(sup, src)\n            m300.drop_tip(t_d)\n\n    # plate, tube rack maps\n    # init_samps = samp_plate.rows()[0][:num_cols]\n    mag_samps = mag_plate.rows()[0][:num_cols]\n    mag_samps_h = [WellH(well) for well in mag_samps]\n    pcr_samps = pcr_plate.rows()[0][:num_cols]\n\n    # protocol\n    ctx.set_rail_lights(True)\n    # # Transfer 700µL CSPL Buffer + 20µL Prot K\n    # ctx.comment('Transferring 720uL of CSPL Buffer + Proteinase K')\n    #\n    # m300.custom_pick_up()\n    # for idx, col in enumerate(init_samps):\n    #     src = cspl[idx//2]\n    #     for _ in range(4):\n    #         m300.aspirate_h(180, src)\n    #         m300.slow_tip_withdrawal(10, src, to_surface=True)\n    #         m300.dispense(180, col.top(-2))\n    # m300.drop_tip()\n    #\n    # flash_lights()\n    # ctx.pause('Please remove samples and incubate at 56C for 30 minutes, \\n    # then centrifuge at 4000g for 10 minutes. Once complete, please replace \\n    # samples on the deck and place ensure 12-well reservoirs are filled with \\n    # necessary reagents in deck slots 2 and 3. When ready, click RESUME.')\n    # ctx.set_rail_lights(True)\n    # Creating reagent variables for second part of protocol\n    xp1 = [WellH(well, current_volume=0) for well in rsvr_12[0].wells()[:4]]\n    vhb = [WellH(well) for well in rsvr_12[0].wells()[4:8]]\n    # cspw2 = [WellH(well) for well in rsvr_12[0].wells()[8:]]\n    etoh = [WellH(well) for well in rsvr_12[1].wells()[:8]]\n    elution_buffer = [WellH(well) for well in rsvr_12[1].wells()[10:]]\n\n    vhb_wells = []\n    # cspw2_wells = []\n    etoh1_wells = []\n    etoh2_wells = []\n    elution_wells = []\n\n    for idx in range(num_cols):\n        xp1[idx//3].height_inc(vol_xp1*8)\n        vhb[idx//3].height_inc(500*8)\n        # cspw2[idx//3].height_inc(500*8)\n        elution_buffer[idx//6].height_inc(elution_vol*8)\n        vhb_wells.append(vhb[idx//3])\n        # cspw2_wells.append(cspw2[idx//3])\n        elution_wells.append(elution_buffer[idx//6])\n\n    for idx in range(num_cols*2):\n        etoh[idx//3].height_inc(500*8)\n        if idx % 2 == 0:\n            etoh1_wells.append(etoh[idx//3])\n        else:\n            etoh2_wells.append(etoh[idx//3])\n\n    reagent_keys = {\n        'XP1 + Mag-Bind Beads': xp1,\n        'VHB Buffer': vhb,\n        # 'CSPW 2 Buffer': cspw2,\n        'Elution Buffer': elution_buffer,\n        'ETOH': etoh\n    }\n    for key in reagent_keys:\n        for x in reagent_keys[key]:\n            ctx.comment(f'load {x.current_volume} of {key} in {x}')\n\n    ctx.comment(f'load {_num_samps*100} of water in reservoir 2 \\n(slot 3) channel 9')\n\n    # for x in rbb:\n    #     ctx.comment(f'load {x.current_volume} in {x}')\n\n    # if samp_labware == 'qiagen_96_tuberack_1200ul':\n    #    ctx.comment('Transferring 500uL of sample to plate on MagDeck')\n\n    #    flow_rate(asp=20)\n    #   for src, dest in zip(init_samps, mag_samps_h):\n    #        src_asp = src.top(-asp_ht)\n    #        m300.custom_pick_up()\n    #        for i in range(2):\n    #            m300.aspirate(20, src.top())\n    #            m300.aspirate(180, src_asp)\n    #            m300.slow_tip_withdrawal(10, src)\n    #            m300.dispense_h(180, dest)\n    #            m300.slow_tip_withdrawal(10, dest, to_surface=True)\n    #            m300.dispense(20, dest.bottom(5))\n    #        m300.aspirate(20, src.top())\n    #        m300.aspirate(140, src_asp)\n    #        m300.dispense_h(140, dest)\n    #        m300.slow_tip_withdrawal(10, dest, to_surface=True)\n    #        m300.dispense(20, dest.bottom(5))\n    #        m300.drop_tip()\n    #    flow_rate()\n    # else:\n    #    flash_lights()\n    #    ctx.pause('Please make sure samples are loaded on MagDeck')\n\n    # Transfer vol XP1/ Mag-bind Beads master mixture\n    ctx.comment('Transferring XP1/ Mag-bind master mixture')\n\n    m300.custom_pick_up()\n    flow_rate(blow=10)\n    for idx, dest in enumerate(mag_samps):\n        src = xp1[idx//3]\n        for _ in range(2):\n            flow_rate(asp=40, disp=40)\n            mix_high_low(src, 5, 200)\n            m300.aspirate(vol_xp1/2, src)\n            m300.slow_tip_withdrawal(10, src, to_surface=True)\n            flow_rate(disp=10)\n            m300.dispense(60, dest.top(-1))\n            flow_rate(disp=5)\n            m300.dispense(50, dest.top(-1))\n            ctx.delay(seconds=3)\n            m300.dispense(30, dest.top(-1))\n            ctx.delay(seconds=3)\n            flow_rate(disp=2)\n            m300.dispense(20, dest.top(-1))\n            m300.blow_out()\n            m300.touch_tip(speed=40)\n    m300.drop_tip()\n    flow_rate()\n\n    if off_deck:\n        flash_lights()\n        ctx.pause('Please incubate samples for 10 minutes post resuspension.')\n    else:\n        incubate_msg = f'Incubating at room temperature for {inc_time} \\n        minutes plus mixing'\n        ctx.comment(incubate_msg)\n\n        start_time = time.monotonic()\n        m300.flow_rate.aspirate *= 3\n        m300.flow_rate.dispense *= 3\n        check_time = 8*60 if not ctx.is_simulating() else 1\n        while time.monotonic() - start_time < check_time:\n            for i, (col, t_d) in enumerate(\n                    zip(mag_samps, all_tips[t_start:t_end])):\n                side = 1 if i % 2 == 0 else -1\n                radius = col.diameter/2 if col.diameter else col.width/2\n                bead_loc = col.bottom().move(types.Point(\n                    x=side*radius*0.5, z=3))\n                if _ == 0:\n                    m300.custom_pick_up()\n                if not m300.has_tip:\n                    m300.custom_pick_up(t_d)\n                mix_high_low(col, 10, 200, z_offset_low=3,\n                             x_offset=side*radius*0.4, switch_sides_x=False)\n                ctx.delay(seconds=1)\n                m300.blow_out(col.top(-2))\n                m300.touch_tip()\n                if len(mag_samps) > 1:\n                    m300.drop_tip(t_d)\n                else:\n                    ctx.delay(seconds=30)\n        if m300.has_tip:\n            m300.drop_tip(t_d)\n        m300.flow_rate.aspirate /= 3\n        m300.flow_rate.dispense /= 3\n\n        t_start += num_cols\n        t_end += num_cols\n    mag_deck.engage(7)\n    mag_msg = f'Incubating on Mag Deck for {mag_time} minutes'\n    ctx.delay(minutes=mag_time, msg=mag_msg)\n\n    # Discard Supernatant\n    ctx.comment('Removing supernatant')\n    flow_rate(asp=40, disp=40)\n    for src, t_d in zip(mag_samps_h, all_tips[t_start:t_end]):\n        m300.custom_pick_up()\n        remove_supernatant(vol_removal, src)\n        # m300.drop_tip()\n        # m300.custom_pick_up()\n        # remove_supernatant(vol_removal/2, src)\n        m300.drop_tip(t_d)\n\n    flow_rate()\n\n    # Wash with 500uL VHB Buffer\n    wash(vhb_wells, 'VHB')\n\n    # Wash with 500uL CSPW2 Buffer\n    # wash(cspw2_wells, 'CSPW2')\n\n    # Wash with 70% ETOH (1)\n    wash(etoh1_wells, 'ETOH (first wash)')\n\n    # Wash with ETOH Buffer (2)\n    wash(etoh2_wells, 'ETOH (second wash)', fin_wash)\n    ctx.delay(minutes=1)\n    for i, src in enumerate(mag_samps_h):\n        side = -1 if i % 2 == 0 else 1\n        radius = src.diameter/2 if src.diameter else src.width/2\n        anti_bead_loc = src.bottom().move(\n            types.Point(x=side*radius*0.5, z=3))\n        m300.custom_pick_up()\n        flow_rate(asp=30, disp=30)\n        m300.aspirate(100, anti_bead_loc)\n        ctx.delay(seconds=0.5)\n        m300.dispense(120, liquid_waste)\n        flow_rate()\n        m300.blow_out()\n        m300.drop_tip()\n\n    # Air dry for 10 minutes\n    mag_deck.engage(7)\n    # if add_water:\n    #     for i, src in enumerate(mag_samps_h):\n    #         side = -1 if i % 2 == 0 else 1\n    #         radius = src.diameter/2 if src.diameter else src.width/2\n    #         anti_bead_loc = src.bottom().move(\n    #             types.Point(x=side*radius*0.5, z=3))\n    #         m300.custom_pick_up()\n    #         m300.aspirate(100, h2o)\n    #         flow_rate(asp=30, disp=30)\n    #         m300.dispense(80, anti_bead_loc)\n    #         ctx.delay(seconds=0.5)\n    #         m300.aspirate(100, anti_bead_loc)\n    #         flow_rate()\n    #         m300.dispense(120, liquid_waste)\n    #         m300.blow_out()\n    #         m300.drop_tip()\n\n    # ctx.delay(minutes=1)\n    # for i, src in enumerate(mag_samps_h):\n    #     side = -1 if i % 2 == 0 else 1\n    #     radius = src.diameter/2 if src.diameter else src.width/2\n    #     anti_bead_loc = src.bottom().move(\n    #         types.Point(x=side*radius*0.5, z=3))\n    #     m300.custom_pick_up()\n    #     flow_rate(asp=30, disp=30)\n    #     m300.aspirate(100, anti_bead_loc)\n    #     ctx.delay(seconds=0.5)\n    #     m300.dispense(120, liquid_waste)\n    #     flow_rate()\n    #     m300.blow_out()\n    #     m300.drop_tip()\n\n    ctx.home()\n    air_dry_msg = f'Air drying the beads for {air_dry} minutes. \\nPlease add elution buffer at 70C to 12-well reservoir.'\n    ctx.delay(minutes=air_dry, msg=air_dry_msg)\n    flash_lights()\n    if not ctx.is_simulating():\n        if music:\n            test_speaker('/var/lib/jupyter/notebooks/mr-blue-sky-ot2.mp3')\n        else:\n            test_speaker()\n    ctx.pause('Please check the Well Plate')\n\n    mag_deck.disengage()\n    # Add Elution Buffer\n    ctx.comment(f'Adding {elution_vol}uL Elution Buffer to samples')\n\n    for idx, (col, src) in enumerate(zip(mag_samps_h, elution_wells)):\n        m300.custom_pick_up()\n        m300.aspirate(elution_vol, src)\n        m300.slow_tip_withdrawal(10, src, to_surface=True)\n        m300.dispense_h(elution_vol, col)\n        if not off_deck:\n            side = 1 if idx % 2 == 0 else -1\n            radius = col.diameter/2 if col.diameter else col.width/2\n            bead_loc = col.bottom().move(\n                types.Point(x=side*radius*0.5, z=3))\n            mix_high_low(col, 10, 50, z_offset_low=3, z_offset_high=6,\n                         x_offset=side*radius*0.4, switch_sides_x=False)\n        m300.slow_tip_withdrawal(10, col, to_surface=True)\n        m300.blow_out(col.bottom(6))\n        for _ in range(2):\n            m300.move_to(col.bottom(5))\n            m300.move_to(col.bottom(6))\n        m300.drop_tip()\n\n    # Transfer elution to PCR plate\n    if not off_deck:\n        start_time = time.monotonic()\n        check_time = 8*60 if not ctx.is_simulating() else 1\n        tip_list = []\n        first = True\n        while time.monotonic() - start_time < check_time:\n            for i, col in enumerate(mag_samps_h):\n                if first:\n                    m300.custom_pick_up()\n                    current_tip = m300._last_tip_picked_up_from\n                    tip_list.append(current_tip)\n                    first = False\n                else:\n                    m300.pick_up_tip(tip_list[i])\n                side = 1 if idx % 2 == 0 else -1\n                radius = col.diameter/2 if col.diameter else col.width/2\n                bead_loc = col.bottom().move(\n                    types.Point(x=side*radius*0.5, z=3))\n                m300.mix(10, 50, bead_loc)\n                m300.slow_tip_withdrawal(10, col, to_surface=True)\n                m300.blow_out(col.bottom(6))\n                for _ in range(2):\n                    m300.move_to(col.bottom(5))\n                    m300.move_to(col.bottom(6))\n                m300.return_tip()\n    else:\n        flash_lights()\n        ctx.home()\n        if not ctx.is_simulating():\n            if music:\n                test_speaker('/var/lib/jupyter/notebooks/all-i-want-ot2.mp3')\n            else:\n                test_speaker()\n        # ctx.pause('Please remove samples and incubate at 65C for 5 minutes.\\n        # When complete, replace samples and click RESUME')\n        ctx.pause('Please remove samples and mix off-deck for 10 minutes \\nthen resume run.')\n\n    mag_deck.engage(7)\n    mag_msg = f'Incubating on Mag Deck for {mag_time} minutes.'\n    ctx.delay(minutes=mag_time, msg=mag_msg)\n\n    ctx.comment(f'Transferring {elution_vol}uL to final PCR plate')\n    t_start += num_cols\n    if t_start >= 60:\n        t_start -= 60\n\n    flow_rate(asp=20)\n    for src, dest, tip in zip(mag_samps, pcr_samps, all_tips[t_start:]):\n        w = int(str(src).split(' ')[0][1:])\n        if src.width is not None:\n            radi = float(src.width)/4\n        else:\n            float(src.diameter)/4\n        x0 = radi if w % 2 == 0 else -radi\n        m300.custom_pick_up()\n        m300.aspirate(\n            elution_vol, src.bottom().move(types.Point(x=x0, y=0, z=1)))\n        m300.dispense(elution_vol, dest)\n        m300.drop_tip(tip)\n\n    mag_deck.disengage()\n    ctx.comment('Protocol complete! Please store samples at -20C or \\ncontinue processing')\n",
    "custom_labware_defs": [
        {
            "brand": {
                "brand": "QIAGEN",
                "brandId": [
                    "19560"
                ]
            },
            "cornerOffsetFromSlot": {
                "x": 0,
                "y": 0,
                "z": 0
            },
            "dimensions": {
                "xDimension": 127.88,
                "yDimension": 85.54,
                "zDimension": 50.5
            },
            "groups": [
                {
                    "metadata": {
                        "wellBottomShape": "u"
                    },
                    "wells": [
                        "A1",
                        "B1",
                        "C1",
                        "D1",
                        "E1",
                        "F1",
                        "G1",
                        "H1",
                        "A2",
                        "B2",
                        "C2",
                        "D2",
                        "E2",
                        "F2",
                        "G2",
                        "H2",
                        "A3",
                        "B3",
                        "C3",
                        "D3",
                        "E3",
                        "F3",
                        "G3",
                        "H3",
                        "A4",
                        "B4",
                        "C4",
                        "D4",
                        "E4",
                        "F4",
                        "G4",
                        "H4",
                        "A5",
                        "B5",
                        "C5",
                        "D5",
                        "E5",
                        "F5",
                        "G5",
                        "H5",
                        "A6",
                        "B6",
                        "C6",
                        "D6",
                        "E6",
                        "F6",
                        "G6",
                        "H6",
                        "A7",
                        "B7",
                        "C7",
                        "D7",
                        "E7",
                        "F7",
                        "G7",
                        "H7",
                        "A8",
                        "B8",
                        "C8",
                        "D8",
                        "E8",
                        "F8",
                        "G8",
                        "H8",
                        "A9",
                        "B9",
                        "C9",
                        "D9",
                        "E9",
                        "F9",
                        "G9",
                        "H9",
                        "A10",
                        "B10",
                        "C10",
                        "D10",
                        "E10",
                        "F10",
                        "G10",
                        "H10",
                        "A11",
                        "B11",
                        "C11",
                        "D11",
                        "E11",
                        "F11",
                        "G11",
                        "H11",
                        "A12",
                        "B12",
                        "C12",
                        "D12",
                        "E12",
                        "F12",
                        "G12",
                        "H12"
                    ]
                }
            ],
            "metadata": {
                "displayCategory": "wellPlate",
                "displayName": "QIAGEN 96 Tube Rack 1.2mL",
                "displayVolumeUnits": "\u00b5L",
                "tags": []
            },
            "namespace": "custom_beta",
            "ordering": [
                [
                    "A1",
                    "B1",
                    "C1",
                    "D1",
                    "E1",
                    "F1",
                    "G1",
                    "H1"
                ],
                [
                    "A2",
                    "B2",
                    "C2",
                    "D2",
                    "E2",
                    "F2",
                    "G2",
                    "H2"
                ],
                [
                    "A3",
                    "B3",
                    "C3",
                    "D3",
                    "E3",
                    "F3",
                    "G3",
                    "H3"
                ],
                [
                    "A4",
                    "B4",
                    "C4",
                    "D4",
                    "E4",
                    "F4",
                    "G4",
                    "H4"
                ],
                [
                    "A5",
                    "B5",
                    "C5",
                    "D5",
                    "E5",
                    "F5",
                    "G5",
                    "H5"
                ],
                [
                    "A6",
                    "B6",
                    "C6",
                    "D6",
                    "E6",
                    "F6",
                    "G6",
                    "H6"
                ],
                [
                    "A7",
                    "B7",
                    "C7",
                    "D7",
                    "E7",
                    "F7",
                    "G7",
                    "H7"
                ],
                [
                    "A8",
                    "B8",
                    "C8",
                    "D8",
                    "E8",
                    "F8",
                    "G8",
                    "H8"
                ],
                [
                    "A9",
                    "B9",
                    "C9",
                    "D9",
                    "E9",
                    "F9",
                    "G9",
                    "H9"
                ],
                [
                    "A10",
                    "B10",
                    "C10",
                    "D10",
                    "E10",
                    "F10",
                    "G10",
                    "H10"
                ],
                [
                    "A11",
                    "B11",
                    "C11",
                    "D11",
                    "E11",
                    "F11",
                    "G11",
                    "H11"
                ],
                [
                    "A12",
                    "B12",
                    "C12",
                    "D12",
                    "E12",
                    "F12",
                    "G12",
                    "H12"
                ]
            ],
            "parameters": {
                "format": "irregular",
                "isMagneticModuleCompatible": false,
                "isTiprack": false,
                "loadName": "qiagen_96_tuberack_1200ul",
                "quirks": []
            },
            "schemaVersion": 2,
            "version": 1,
            "wells": {
                "A1": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 14.53,
                    "y": 74.13,
                    "z": 8.5
                },
                "A10": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 95.53,
                    "y": 74.13,
                    "z": 8.5
                },
                "A11": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 104.53,
                    "y": 74.13,
                    "z": 8.5
                },
                "A12": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 113.53,
                    "y": 74.13,
                    "z": 8.5
                },
                "A2": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 23.53,
                    "y": 74.13,
                    "z": 8.5
                },
                "A3": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 32.53,
                    "y": 74.13,
                    "z": 8.5
                },
                "A4": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 41.53,
                    "y": 74.13,
                    "z": 8.5
                },
                "A5": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 50.53,
                    "y": 74.13,
                    "z": 8.5
                },
                "A6": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 59.53,
                    "y": 74.13,
                    "z": 8.5
                },
                "A7": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 68.53,
                    "y": 74.13,
                    "z": 8.5
                },
                "A8": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 77.53,
                    "y": 74.13,
                    "z": 8.5
                },
                "A9": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 86.53,
                    "y": 74.13,
                    "z": 8.5
                },
                "B1": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 14.53,
                    "y": 65.13,
                    "z": 8.5
                },
                "B10": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 95.53,
                    "y": 65.13,
                    "z": 8.5
                },
                "B11": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 104.53,
                    "y": 65.13,
                    "z": 8.5
                },
                "B12": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 113.53,
                    "y": 65.13,
                    "z": 8.5
                },
                "B2": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 23.53,
                    "y": 65.13,
                    "z": 8.5
                },
                "B3": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 32.53,
                    "y": 65.13,
                    "z": 8.5
                },
                "B4": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 41.53,
                    "y": 65.13,
                    "z": 8.5
                },
                "B5": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 50.53,
                    "y": 65.13,
                    "z": 8.5
                },
                "B6": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 59.53,
                    "y": 65.13,
                    "z": 8.5
                },
                "B7": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 68.53,
                    "y": 65.13,
                    "z": 8.5
                },
                "B8": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 77.53,
                    "y": 65.13,
                    "z": 8.5
                },
                "B9": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 86.53,
                    "y": 65.13,
                    "z": 8.5
                },
                "C1": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 14.53,
                    "y": 56.13,
                    "z": 8.5
                },
                "C10": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 95.53,
                    "y": 56.13,
                    "z": 8.5
                },
                "C11": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 104.53,
                    "y": 56.13,
                    "z": 8.5
                },
                "C12": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 113.53,
                    "y": 56.13,
                    "z": 8.5
                },
                "C2": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 23.53,
                    "y": 56.13,
                    "z": 8.5
                },
                "C3": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 32.53,
                    "y": 56.13,
                    "z": 8.5
                },
                "C4": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 41.53,
                    "y": 56.13,
                    "z": 8.5
                },
                "C5": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 50.53,
                    "y": 56.13,
                    "z": 8.5
                },
                "C6": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 59.53,
                    "y": 56.13,
                    "z": 8.5
                },
                "C7": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 68.53,
                    "y": 56.13,
                    "z": 8.5
                },
                "C8": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 77.53,
                    "y": 56.13,
                    "z": 8.5
                },
                "C9": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 86.53,
                    "y": 56.13,
                    "z": 8.5
                },
                "D1": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 14.53,
                    "y": 47.13,
                    "z": 8.5
                },
                "D10": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 95.53,
                    "y": 47.13,
                    "z": 8.5
                },
                "D11": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 104.53,
                    "y": 47.13,
                    "z": 8.5
                },
                "D12": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 113.53,
                    "y": 47.13,
                    "z": 8.5
                },
                "D2": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 23.53,
                    "y": 47.13,
                    "z": 8.5
                },
                "D3": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 32.53,
                    "y": 47.13,
                    "z": 8.5
                },
                "D4": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 41.53,
                    "y": 47.13,
                    "z": 8.5
                },
                "D5": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 50.53,
                    "y": 47.13,
                    "z": 8.5
                },
                "D6": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 59.53,
                    "y": 47.13,
                    "z": 8.5
                },
                "D7": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 68.53,
                    "y": 47.13,
                    "z": 8.5
                },
                "D8": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 77.53,
                    "y": 47.13,
                    "z": 8.5
                },
                "D9": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 86.53,
                    "y": 47.13,
                    "z": 8.5
                },
                "E1": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 14.53,
                    "y": 38.13,
                    "z": 8.5
                },
                "E10": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 95.53,
                    "y": 38.13,
                    "z": 8.5
                },
                "E11": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 104.53,
                    "y": 38.13,
                    "z": 8.5
                },
                "E12": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 113.53,
                    "y": 38.13,
                    "z": 8.5
                },
                "E2": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 23.53,
                    "y": 38.13,
                    "z": 8.5
                },
                "E3": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 32.53,
                    "y": 38.13,
                    "z": 8.5
                },
                "E4": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 41.53,
                    "y": 38.13,
                    "z": 8.5
                },
                "E5": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 50.53,
                    "y": 38.13,
                    "z": 8.5
                },
                "E6": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 59.53,
                    "y": 38.13,
                    "z": 8.5
                },
                "E7": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 68.53,
                    "y": 38.13,
                    "z": 8.5
                },
                "E8": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 77.53,
                    "y": 38.13,
                    "z": 8.5
                },
                "E9": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 86.53,
                    "y": 38.13,
                    "z": 8.5
                },
                "F1": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 14.53,
                    "y": 29.13,
                    "z": 8.5
                },
                "F10": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 95.53,
                    "y": 29.13,
                    "z": 8.5
                },
                "F11": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 104.53,
                    "y": 29.13,
                    "z": 8.5
                },
                "F12": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 113.53,
                    "y": 29.13,
                    "z": 8.5
                },
                "F2": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 23.53,
                    "y": 29.13,
                    "z": 8.5
                },
                "F3": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 32.53,
                    "y": 29.13,
                    "z": 8.5
                },
                "F4": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 41.53,
                    "y": 29.13,
                    "z": 8.5
                },
                "F5": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 50.53,
                    "y": 29.13,
                    "z": 8.5
                },
                "F6": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 59.53,
                    "y": 29.13,
                    "z": 8.5
                },
                "F7": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 68.53,
                    "y": 29.13,
                    "z": 8.5
                },
                "F8": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 77.53,
                    "y": 29.13,
                    "z": 8.5
                },
                "F9": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 86.53,
                    "y": 29.13,
                    "z": 8.5
                },
                "G1": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 14.53,
                    "y": 20.13,
                    "z": 8.5
                },
                "G10": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 95.53,
                    "y": 20.13,
                    "z": 8.5
                },
                "G11": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 104.53,
                    "y": 20.13,
                    "z": 8.5
                },
                "G12": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 113.53,
                    "y": 20.13,
                    "z": 8.5
                },
                "G2": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 23.53,
                    "y": 20.13,
                    "z": 8.5
                },
                "G3": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 32.53,
                    "y": 20.13,
                    "z": 8.5
                },
                "G4": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 41.53,
                    "y": 20.13,
                    "z": 8.5
                },
                "G5": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 50.53,
                    "y": 20.13,
                    "z": 8.5
                },
                "G6": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 59.53,
                    "y": 20.13,
                    "z": 8.5
                },
                "G7": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 68.53,
                    "y": 20.13,
                    "z": 8.5
                },
                "G8": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 77.53,
                    "y": 20.13,
                    "z": 8.5
                },
                "G9": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 86.53,
                    "y": 20.13,
                    "z": 8.5
                },
                "H1": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 14.53,
                    "y": 11.13,
                    "z": 8.5
                },
                "H10": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 95.53,
                    "y": 11.13,
                    "z": 8.5
                },
                "H11": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 104.53,
                    "y": 11.13,
                    "z": 8.5
                },
                "H12": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 113.53,
                    "y": 11.13,
                    "z": 8.5
                },
                "H2": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 23.53,
                    "y": 11.13,
                    "z": 8.5
                },
                "H3": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 32.53,
                    "y": 11.13,
                    "z": 8.5
                },
                "H4": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 41.53,
                    "y": 11.13,
                    "z": 8.5
                },
                "H5": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 50.53,
                    "y": 11.13,
                    "z": 8.5
                },
                "H6": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 59.53,
                    "y": 11.13,
                    "z": 8.5
                },
                "H7": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 68.53,
                    "y": 11.13,
                    "z": 8.5
                },
                "H8": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 77.53,
                    "y": 11.13,
                    "z": 8.5
                },
                "H9": {
                    "depth": 42,
                    "diameter": 6.9,
                    "shape": "circular",
                    "totalLiquidVolume": 1200,
                    "x": 86.53,
                    "y": 11.13,
                    "z": 8.5
                }
            }
        }
    ],
    "fields": [
        {
            "default": 8,
            "label": "Number of Samples",
            "name": "_num_samps",
            "type": "int"
        },
        {
            "label": "Wellplate type",
            "name": "lw_deepwell_plate",
            "options": [
                {
                    "label": "NEST 96 Deep Well Plate 2mL",
                    "value": "nest_96_wellplate_2ml_deep"
                },
                {
                    "label": "Thermo Scientific Nunc 96 Well Plate 2000 uL",
                    "value": "thermoscientificnunc_96_wellplate_2000ul"
                },
                {
                    "label": "USA Scientific 96 Deep Well Plate 2.4 mL",
                    "value": "usascientific_96_wellplate_2.4ml_deep"
                }
            ],
            "type": "dropDown"
        },
        {
            "label": "Pipette Mount",
            "name": "_m300_mount",
            "options": [
                {
                    "label": "Right",
                    "value": "right"
                },
                {
                    "label": "Left",
                    "value": "left"
                }
            ],
            "type": "dropDown"
        },
        {
            "default": 320.0,
            "label": "XP1 buffer volume (in ul)",
            "name": "vol_xp1",
            "type": "float"
        },
        {
            "default": 700.0,
            "label": "XP1/Mag-Bind removal volume (in ul)",
            "name": "vol_removal",
            "type": "float"
        },
        {
            "default": 3,
            "label": "MagDeck Incubation (minutes)",
            "name": "_mag_time",
            "type": "int"
        },
        {
            "default": 10,
            "label": "Air Dry Time (minutes)",
            "name": "_air_dry",
            "type": "int"
        },
        {
            "default": 100,
            "label": "Elution Volume (in \u00b5L)",
            "name": "_elution_vol",
            "type": "int"
        },
        {
            "default": 150,
            "label": "wash flow rates (in ul/second)",
            "name": "flow_rate_wash",
            "type": "float"
        },
        {
            "label": "Perform Resuspension Off-Deck",
            "name": "_off_deck",
            "options": [
                {
                    "label": "Yes",
                    "value": 1
                },
                {
                    "label": "No",
                    "value": 0
                }
            ],
            "type": "dropDown"
        },
        {
            "label": "Play Custom Music at Pause",
            "name": "_music",
            "options": [
                {
                    "label": "No",
                    "value": 0
                },
                {
                    "label": "Yes",
                    "value": 1
                }
            ],
            "type": "dropDown"
        }
    ],
    "instruments": [
        {
            "mount": "right",
            "name": "p300_multi_gen2"
        }
    ],
    "labware": [
        {
            "name": "NEST 96 Deepwell Plate 2mL on Magnetic Module GEN2 on 1",
            "share": false,
            "slot": "1",
            "type": "nest_96_wellplate_2ml_deep"
        },
        {
            "name": "NEST 12 Well Reservoir 15 mL on 2",
            "share": false,
            "slot": "2",
            "type": "nest_12_reservoir_15ml"
        },
        {
            "name": "NEST 12 Well Reservoir 15 mL on 3",
            "share": false,
            "slot": "3",
            "type": "nest_12_reservoir_15ml"
        },
        {
            "name": "NEST 1 Well Reservoir 195 mL on 4",
            "share": false,
            "slot": "4",
            "type": "nest_1_reservoir_195ml"
        },
        {
            "name": "Opentrons 96 Filter Tip Rack 200 \u00b5L on 5",
            "share": false,
            "slot": "5",
            "type": "opentrons_96_filtertiprack_200ul"
        },
        {
            "name": "Opentrons 96 Filter Tip Rack 200 \u00b5L on 6",
            "share": false,
            "slot": "6",
            "type": "opentrons_96_filtertiprack_200ul"
        },
        {
            "name": "Opentrons 96 Filter Tip Rack 200 \u00b5L on 7",
            "share": false,
            "slot": "7",
            "type": "opentrons_96_filtertiprack_200ul"
        },
        {
            "name": "Opentrons 96 Filter Tip Rack 200 \u00b5L on 8",
            "share": false,
            "slot": "8",
            "type": "opentrons_96_filtertiprack_200ul"
        },
        {
            "name": "Opentrons 96 Filter Tip Rack 200 \u00b5L on 9",
            "share": false,
            "slot": "9",
            "type": "opentrons_96_filtertiprack_200ul"
        },
        {
            "name": "NEST 96 Well Plate 100 \u00b5L PCR Full Skirt on 10",
            "share": false,
            "slot": "10",
            "type": "nest_96_wellplate_100ul_pcr_full_skirt"
        },
        {
            "name": "Opentrons 96 Filter Tip Rack 200 \u00b5L on 11",
            "share": false,
            "slot": "11",
            "type": "opentrons_96_filtertiprack_200ul"
        },
        {
            "name": "Opentrons Fixed Trash on 12",
            "share": false,
            "slot": "12",
            "type": "opentrons_1_trash_1100ml_fixed"
        }
    ],
    "metadata": {
        "apiLevel": "2.13",
        "author": "Opentrons <protocols@opentrons.com>",
        "protocolName": "Omega Bio-Tek Mag-Bind Environmental DNA 96 Kit",
        "source": "Custom Protocol Request"
    },
    "modules": [
        {
            "name": "MagneticModuleContext at Magnetic Module GEN2 on 1 lw NEST 96 Deepwell Plate 2mL on Magnetic Module GEN2 on 1",
            "share": false,
            "slot": "1",
            "type": "magdeck"
        }
    ]
}